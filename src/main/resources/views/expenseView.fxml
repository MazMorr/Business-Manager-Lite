<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.Cursor?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.DatePicker?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.MenuButton?>
<?import javafx.scene.control.MenuItem?>
<?import javafx.scene.control.Tab?>
<?import javafx.scene.control.TabPane?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.control.Tooltip?>
<?import javafx.scene.effect.InnerShadow?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.paint.Color?>
<?import javafx.scene.text.Font?>

<AnchorPane prefHeight="650.0" prefWidth="1100.0" styleClass="background" stylesheets="@../Styles.css" xmlns="http://javafx.com/javafx/24.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.marcosoft.storageSoftware.application.controller.ExpenseViewController">
    <HBox alignment="CENTER" layoutY="6.0" prefHeight="80.0" prefWidth="800.0" spacing="120.0" styleClass="slogan" AnchorPane.leftAnchor="0.0" AnchorPane.rightAnchor="0.0" AnchorPane.topAnchor="0.0">
        <Label alignment="CENTER" graphicTextGap="14.0" prefHeight="68.0" prefWidth="421.0" styleClass="title" text="Gastos" textFill="#eeeeee">
            <font>
                <Font name="Constantia Bold" size="60.0" />
            </font>
            <HBox.margin>
                <Insets />
            </HBox.margin>
            <graphic>
                <ImageView fitHeight="150.0" fitWidth="60.0" pickOnBounds="true" preserveRatio="true">
                    <effect>
                        <InnerShadow choke="1.0" radius="68.5" width="255.0">
                            <color>
                                <Color red="1.0" green="1.0" blue="1.0" />
                            </color>
                        </InnerShadow>
                    </effect>
                    <Image url="@../images/monitoring.png" />
                </ImageView>
            </graphic>
        </Label>
    </HBox>
    <VBox layoutX="-9.0" layoutY="88.0" styleClass="index" AnchorPane.bottomAnchor="55.0" AnchorPane.leftAnchor="0.0" AnchorPane.topAnchor="80.0">
        <Button alignment="CENTER_LEFT" disable="true" ellipsisString="" graphicTextGap="5.0" mnemonicParsing="false" styleClass="btnIndex" text="Gastos">
            <font>
                <Font name="System Bold" size="17.0" />
            </font>
            <graphic>

            </graphic>
            <graphic>
                <ImageView fitHeight="39.0" fitWidth="39.0" pickOnBounds="true">
                    <effect>
                        <InnerShadow choke="1.0">
                            <color>
                                <Color red="1.0" green="1.0" blue="1.0" />
                            </color>
                        </InnerShadow>
                    </effect>
                    <Image url="@../images/monitoring.png" />
                </ImageView>
            </graphic>
        </Button>
        <Button alignment="CENTER_LEFT" ellipsisString="" graphicTextGap="5.0" mnemonicParsing="false" onAction="#switchToBuy" styleClass="btnIndex" text="Compras">
            <font>
                <Font name="System Bold" size="17.0" />
            </font>
            <graphic>
                <ImageView fitHeight="40.0" fitWidth="40.0" pickOnBounds="true">
                    <effect>
                        <InnerShadow choke="1.0">
                            <color>
                                <Color red="1.0" green="1.0" blue="1.0" />
                            </color>
                        </InnerShadow>
                    </effect>
                    <Image url="@../images/goods.png" />
                </ImageView>
            </graphic>
        </Button>
        <Button alignment="CENTER_LEFT" ellipsisString="" graphicTextGap="5.0" mnemonicParsing="false" onAction="#switchToWarehouse" styleClass="btnIndex" text="Almacenes">
            <font>
                <Font name="System Bold" size="17.0" />
            </font>
            <graphic>
                <ImageView fitHeight="40.0" fitWidth="40.0" pickOnBounds="true">
                    <effect>
                        <InnerShadow choke="1.0">
                            <color>
                                <Color red="1.0" green="1.0" blue="1.0" />
                            </color>
                        </InnerShadow>
                    </effect>
                    <Image url="@../images/warehouse.png" />
                </ImageView>
            </graphic>
        </Button>
        <Button alignment="CENTER_LEFT" ellipsisString="" graphicTextGap="5.0" mnemonicParsing="false" onAction="#switchToSell" styleClass="btnIndex" text="Ventas">
            <font>
                <Font name="System Bold" size="17.0" />
            </font>
            <graphic>
                <ImageView fitHeight="40.0" fitWidth="40.0" pickOnBounds="true">
                    <effect>
                        <InnerShadow choke="1.0">
                            <color>
                                <Color red="1.0" green="1.0" blue="1.0" />
                            </color>
                        </InnerShadow>
                    </effect>
                    <Image url="@../images/purchase.png" />
                </ImageView>
            </graphic>
        </Button>
        <Button alignment="CENTER_LEFT" graphicTextGap="5.0" mnemonicParsing="false" onAction="#switchToBalance" styleClass="btnIndex" text="Resultado">
            <font>
                <Font name="System Bold" size="17.0" />
            </font>
            <graphic>
                <ImageView fitHeight="40.0" fitWidth="40.0" pickOnBounds="true">
                    <effect>
                        <InnerShadow choke="1.0">
                            <color>
                                <Color red="1.0" green="1.0" blue="1.0" />
                            </color>
                        </InnerShadow>
                    </effect>
                    <Image url="@../images/interest-rate.png" />
                </ImageView>
            </graphic>
        </Button>
    </VBox>
    <TableView fx:id="tvExpense" editable="true" layoutX="159.0" layoutY="115.0" prefHeight="445.0" prefWidth="550.0" styleClass="table" AnchorPane.bottomAnchor="10.0" AnchorPane.leftAnchor="160.0" AnchorPane.rightAnchor="310.0" AnchorPane.topAnchor="230.0">
        <columns>
            <TableColumn fx:id="tcId" prefWidth="41.0" sortable="false" text="ID" />
            <TableColumn fx:id="tcExpenseName" prefWidth="145.0" sortable="false" text="Nombre Gasto" />
            <TableColumn fx:id="tcExpenseType" prefWidth="92.0" sortable="false" text="Tipo" />
            <TableColumn fx:id="tcAmount" prefWidth="75.0" sortable="false" text="Cantidad" />
            <TableColumn fx:id="tcPriceAndCurrency" prefWidth="89.0" sortable="false" text="Precio" />
            <TableColumn fx:id="tcDate" prefWidth="86.0" sortable="false" text="Fecha" />
        </columns>
        <columnResizePolicy>
            <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
        </columnResizePolicy>
        <padding>
            <Insets bottom="5.0" left="5.0" right="5.0" top="5.0" />
        </padding>
    </TableView>
    <VBox layoutY="632.0" styleClass="index" stylesheets="@../Styles.css" AnchorPane.bottomAnchor="0.0" AnchorPane.leftAnchor="0.0">
        <Button alignment="CENTER_LEFT" graphicTextGap="5.0" mnemonicParsing="false" onAction="#switchToSupport" styleClass="btnIndex" text="Soporte">
            <font>
                <Font name="System Bold" size="17.0" />
            </font>
            <graphic>

            </graphic>
            <graphic>
                <ImageView fitHeight="40.0" fitWidth="40.0" pickOnBounds="true">
                    <image>
                        <Image url="@../images/support.png" />
                    </image>
                    <effect>
                        <InnerShadow choke="1.0" height="255.0" radius="127.0" width="255.0">
                            <color>
                                <Color red="1.0" green="1.0" blue="1.0" />
                            </color>
                        </InnerShadow>
                    </effect>
                </ImageView>
            </graphic>
        </Button>
        <Button alignment="CENTER_LEFT" graphicTextGap="10.0" mnemonicParsing="false" onAction="#switchToRegistry" styleClass="btnIndex" text="Registros">
            <font>
                <Font name="System Bold" size="17.0" />
            </font>
            <VBox.margin>
                <Insets />
            </VBox.margin>
            <graphic>

            </graphic>
            <graphic>
                <ImageView fitHeight="39.0" fitWidth="39.0" pickOnBounds="true" preserveRatio="true">
                    <image>
                        <Image url="@../images/lista-de-la-compra.png" />
                    </image>
                    <effect>
                        <InnerShadow choke="1.0">
                            <color>
                                <Color red="1.0" green="1.0" blue="1.0" />
                            </color>
                        </InnerShadow>
                    </effect>
                </ImageView>
            </graphic>
            <padding>
                <Insets left="16.0" />
            </padding>
        </Button>
        <Button alignment="CENTER_LEFT" mnemonicParsing="false" onAction="#switchToConfiguration" prefHeight="60.0" styleClass="btnIndex" text="Ajustes">
            <VBox.margin>
                <Insets />
            </VBox.margin>
            <graphic>
            </graphic>
            <graphic>
                <ImageView fitHeight="40.0" fitWidth="40.0" pickOnBounds="true" preserveRatio="true">
                    <effect>
                        <InnerShadow choke="1.0">
                            <color>
                                <Color red="1.0" green="1.0" blue="1.0" />
                            </color>
                        </InnerShadow>
                    </effect>
                    <Image url="@../images/settings.png" />
                </ImageView>
            </graphic>
            <font>
                <Font size="14.0" />
            </font>
        </Button>
    </VBox>
    <AnchorPane layoutX="160.0" layoutY="85.0" prefHeight="130.0" prefWidth="630.0" styleClass="filter-background" AnchorPane.leftAnchor="160.0" AnchorPane.rightAnchor="310.0" AnchorPane.topAnchor="90.0">
        <VBox layoutY="29.0" prefHeight="200.0" prefWidth="290.0" AnchorPane.bottomAnchor="0.0" AnchorPane.rightAnchor="0.0" AnchorPane.topAnchor="0.0">
            <HBox alignment="TOP_RIGHT" prefWidth="200.0">
                <Button mnemonicParsing="false" onAction="#cleanFilters" prefHeight="32.0" prefWidth="21.0" style="-fx-background-color: transparent;">
                    <graphic>
                        <ImageView fitHeight="30.0" fitWidth="30.0" pickOnBounds="true" preserveRatio="true">
                            <effect>
                                <InnerShadow choke="1.0" />
                            </effect>
                            <Image url="@../images/filter.png" />
                        </ImageView>
                    </graphic>
                    <cursor>
                        <Cursor fx:constant="HAND" />
                    </cursor>
                </Button>
            </HBox>
            <HBox alignment="CENTER_RIGHT" prefWidth="200.0">
                <VBox.margin>
                    <Insets top="2.0" />
                </VBox.margin>
                <Label text="N. Gasto" />
                <TextField fx:id="tfFilterName" prefHeight="25.0" prefWidth="172.0" styleClass="inputForm">
                    <HBox.margin>
                        <Insets left="30.0" />
                    </HBox.margin>
                </TextField>
            </HBox>
            <HBox alignment="CENTER_RIGHT" prefWidth="200.0">
                <VBox.margin>
                    <Insets top="4.0" />
                </VBox.margin>
                <Label text="Precio" />
                <Label style="-fx-font-weight: 500;" text="min">
                    <HBox.margin>
                        <Insets left="20.0" />
                    </HBox.margin>
                </Label>
                <TextField fx:id="tfMinFilterPrice" prefWidth="70.0" promptText="0.00" styleClass="inputForm">
                    <HBox.margin>
                        <Insets left="2.0" />
                    </HBox.margin>
                </TextField>
                <Label style="-fx-font-weight: 500;" text="max">
                    <HBox.margin>
                        <Insets left="6.0" />
                    </HBox.margin>
                </Label>
                <TextField fx:id="tfMaxFilterPrice" prefWidth="70.0" promptText="0.00" styleClass="inputForm">
                    <HBox.margin>
                        <Insets left="2.0" />
                    </HBox.margin>
                </TextField>
            </HBox>
        </VBox>
        <VBox layoutX="29.0" layoutY="29.0" prefHeight="107.0" prefWidth="300.0" AnchorPane.bottomAnchor="0.0" AnchorPane.leftAnchor="0.0" AnchorPane.topAnchor="0.0">
            <Label prefHeight="40.0" prefWidth="82.0" text="Filtrado:">
                <font>
                    <Font name="SansSerif Bold" size="14.0" />
                </font>
            </Label>
            <HBox alignment="CENTER_LEFT" prefWidth="200.0">
                <Label text="ID" />
                <TextField fx:id="tfFilterId" prefWidth="172.0" styleClass="inputForm">
                    <HBox.margin>
                        <Insets left="85.0" />
                    </HBox.margin>
                </TextField>
            </HBox>
            <HBox alignment="CENTER_LEFT" prefWidth="200.0">
                <VBox.margin>
                    <Insets top="4.0" />
                </VBox.margin>
                <Label text="Cantidad" />
                <Label style="-fx-font-weight: 500;" text="min">
                    <HBox.margin>
                        <Insets left="20.0" />
                    </HBox.margin>
                </Label>
                <TextField fx:id="tfMinFilterAmount" prefWidth="70.0" promptText="0" styleClass="inputForm">
                    <HBox.margin>
                        <Insets left="2.0" />
                    </HBox.margin>
                </TextField>
                <Label style="-fx-font-weight: 500;" text="max">
                    <HBox.margin>
                        <Insets left="6.0" />
                    </HBox.margin>
                </Label>
                <TextField fx:id="tfMaxFilterAmount" prefWidth="70.0" promptText="0" styleClass="inputForm">
                    <HBox.margin>
                        <Insets left="2.0" />
                    </HBox.margin>
                </TextField>
            </HBox>
        </VBox>
    </AnchorPane>
    <Label fx:id="lblClientName" contentDisplay="TOP" layoutX="70.0" layoutY="178.0" prefHeight="69.0" prefWidth="172.0" styleClass="clientName" text="Marco A. Romeros" textFill="#eeeeee" wrapText="true" AnchorPane.leftAnchor="20.0" AnchorPane.topAnchor="5.0">
        <font>
            <Font name="SansSerif Regular" size="14.0" />
        </font>
        <graphic>
            <ImageView fitHeight="47.0" fitWidth="42.0" pickOnBounds="true" preserveRatio="true">
                <Image url="@../images/Avatar.png" />
            </ImageView>
        </graphic>
    </Label>
    <AnchorPane layoutX="690.0" layoutY="338.0" prefHeight="200.0" prefWidth="300.0" styleClass="rightIndex" AnchorPane.bottomAnchor="0.0" AnchorPane.rightAnchor="0.0" AnchorPane.topAnchor="80.0">
        <TabPane layoutX="-83.0" layoutY="-192.0" maxHeight="570.0" prefHeight="570.0" prefWidth="300.0" styleClass="crudOperations" tabClosingPolicy="UNAVAILABLE" AnchorPane.bottomAnchor="10.0" AnchorPane.leftAnchor="5.0" AnchorPane.rightAnchor="5.0" AnchorPane.topAnchor="10.0">
            <Tab text="Agregar o Corregir">
                <tooltip>
                    <Tooltip text="MIra papo esto es para comprar" />
                </tooltip>
                <AnchorPane minHeight="0.0" minWidth="0.0" prefHeight="406.0" prefWidth="233.0">
                    <VBox alignment="TOP_CENTER" layoutX="31.0" layoutY="7.0" prefWidth="260.0" spacing="5.0" AnchorPane.leftAnchor="5.0" AnchorPane.rightAnchor="5.0" AnchorPane.topAnchor="5.0">
                        <HBox alignment="CENTER_LEFT" prefWidth="200.0" spacing="93.0">
                            <Label text="ID" />
                            <TextField fx:id="tfId" alignment="CENTER" disable="true" opacity="0.7" prefHeight="25.0" prefWidth="150.0" promptText="Autogenerado" styleClass="inputForm" />
                        </HBox>
                        <HBox alignment="CENTER_LEFT" prefWidth="200.0" spacing="51.0">
                            <Label text="N. Gasto" />
                            <TextField fx:id="tfAddProductName" prefHeight="25.0" prefWidth="150.0" styleClass="inputForm" />
                        </HBox>
                        <HBox alignment="CENTER_LEFT" prefWidth="200.0" spacing="37.0">
                            <Label text="Tipo Gasto" />
                            <MenuButton fx:id="mbExpenseType" mnemonicParsing="false" prefWidth="150.0" textFill="WHITE">
                                <graphic>
                                    <TextField fx:id="tfAddExpenseType" alignment="CENTER" disable="true" opacity="0.99" prefHeight="34.0" prefWidth="10.0" promptText="Seleccionar" styleClass="inputForm">
                                        <tooltip>
                                            <Tooltip text="Precio al que deseas vender cada unidad del producto  (en la zona de ventas este precio puede ser cambiado)" wrapText="true">
                                                <font>
                                                    <Font size="14.0" />
                                                </font>
                                            </Tooltip>
                                        </tooltip>
                                    </TextField>
                                </graphic>
                                <padding>
                                    <Insets bottom="-6.0" left="-9.0" right="2.0" top="-5.0" />
                                </padding>
                                <cursor>
                                    <Cursor fx:constant="DEFAULT" />
                                </cursor>
                                <items>
                                    <MenuItem mnemonicParsing="false" text="Combustibles y Lubricantes" />
                                    <MenuItem mnemonicParsing="false" text="Energía" />
                                    <MenuItem mnemonicParsing="false" text="Gastos de Personal" />
                                    <MenuItem mnemonicParsing="false" text="Otros Gastos Monetarios" />
                                </items>
                            </MenuButton>
                        </HBox>
                        <HBox alignment="CENTER_LEFT" prefHeight="33.0" prefWidth="260.0">
                            <Label text="Precio Gasto" />
                            <TextField fx:id="tfAddExpensePrice" prefHeight="34.0" prefWidth="70.0" promptText="0.00" styleClass="inputForm">
                                <tooltip>
                                    <Tooltip text="Precio al que deseas vender cada unidad del producto  (en la zona de ventas este precio puede ser cambiado)" wrapText="true">
                                        <font>
                                            <Font size="14.0" />
                                        </font>
                                    </Tooltip>
                                </tooltip>
                                <HBox.margin>
                                    <Insets left="25.0" />
                                </HBox.margin>
                            </TextField>
                            <MenuButton fx:id="mbCurrency" mnemonicParsing="false" prefWidth="80.0" textFill="WHITE">
                                <graphic>
                                    <TextField fx:id="tfAddExpenseCurrency" alignment="CENTER" disable="true" opacity="0.99" prefWidth="10.0" promptText="CUP" styleClass="inputForm">
                                        <tooltip>
                                            <Tooltip text="Precio al que deseas vender cada unidad del producto  (en la zona de ventas este precio puede ser cambiado)" wrapText="true">
                                                <font>
                                                    <Font size="14.0" />
                                                </font>
                                            </Tooltip>
                                        </tooltip>
                                        <font>
                                            <Font size="11.0" />
                                        </font>
                                    </TextField>
                                </graphic>
                                <padding>
                                    <Insets bottom="-6.0" left="-10.0" right="2.0" top="-5.0" />
                                </padding>
                                <cursor>
                                    <Cursor fx:constant="DEFAULT" />
                                </cursor>
                                <HBox.margin>
                                    <Insets bottom="1.0" />
                                </HBox.margin>
                            </MenuButton>
                        </HBox>
                        <HBox alignment="CENTER_LEFT" prefWidth="200.0" spacing="70.0">
                            <Label text="Fecha" />
                            <DatePicker fx:id="dpAddExpenseDate" editable="false" prefWidth="150.0" styleClass="inputForm" />
                        </HBox>
                        <Button mnemonicParsing="false" onAction="#addOrUpgradeProduct" prefHeight="33.0" prefWidth="331.0" styleClass="btnStock" text="Agregar o Corregir">
                            <tooltip>
                                <Tooltip consumeAutoHidingEvents="false" text="Si el nombre y la categoria coinciden con algún producto ya registrado, este se actualizará y en caso diferente se agregará al registro" wrapText="true">
                                    <font>
                                        <Font size="14.0" />
                                    </font>
                                </Tooltip>
                            </tooltip>
                            <graphic>
                                <ImageView fitHeight="25.0" fitWidth="25.0" pickOnBounds="true" preserveRatio="true">
                                    <effect>
                                        <InnerShadow choke="1.0">
                                            <color>
                                                <Color red="1.0" green="1.0" blue="1.0" />
                                            </color>
                                        </InnerShadow>
                                    </effect>
                                    <Image url="@../images/add.png" />
                                </ImageView>
                            </graphic>
                            <VBox.margin>
                                <Insets top="5.0" />
                            </VBox.margin>
                        </Button>
                        <Label fx:id="lblAddDebugForm" alignment="TOP_LEFT" prefHeight="118.0" prefWidth="260.0" text="Puede corregir los gastos existentes si el ID coincide, para ello debe pinchar el elemento en la tabla, cambiar los valores que desee y presionar el botón" textAlignment="CENTER" wrapText="true">
                            <padding>
                                <Insets bottom="2.0" left="2.0" right="2.0" top="2.0" />
                            </padding>
                            <VBox.margin>
                                <Insets />
                            </VBox.margin>
                            <font>
                                <Font name="System Bold" size="13.0" />
                            </font>
                        </Label>
                    </VBox>
                    <Button layoutX="62.0" layoutY="457.0" mnemonicParsing="false" onAction="#cleanForm" prefHeight="30.0" prefWidth="275.0" styleClass="btnStock" text="Vaciar Campos" AnchorPane.bottomAnchor="48.0" AnchorPane.leftAnchor="5.0" AnchorPane.rightAnchor="5.0">
                        <graphic>
                            <ImageView fitHeight="25.0" fitWidth="25.0" pickOnBounds="true" preserveRatio="true">
                                <effect>
                                    <InnerShadow choke="1.0">
                                        <color>
                                            <Color red="1.0" green="1.0" blue="1.0" />
                                        </color>
                                    </InnerShadow>
                                </effect>
                                <Image url="@../images/refresh.png" />
                            </ImageView>
                        </graphic>
                    </Button>
                    <Button layoutX="42.0" layoutY="483.0" mnemonicParsing="false" onAction="#removeExpense" prefHeight="30.0" prefWidth="281.0" style="-fx-background-color: linear-gradient(to bottom, #eb5050, #ec3030);" styleClass="btnDelete" text="Eliminar Gasto" AnchorPane.bottomAnchor="6.0" AnchorPane.leftAnchor="5.0" AnchorPane.rightAnchor="5.0">
                        <graphic>
                            <ImageView fitHeight="25.0" fitWidth="25.0" pickOnBounds="true" preserveRatio="true">
                                <effect>
                                    <InnerShadow choke="1.0">
                                        <color>
                                            <Color red="1.0" green="1.0" blue="1.0" />
                                        </color>
                                    </InnerShadow>
                                </effect>
                                <Image url="@../images/trash.png" />
                            </ImageView>
                        </graphic>
                        <font>
                            <Font name="System Bold" size="12.0" />
                        </font>
                        <tooltip>
                            <Tooltip consumeAutoHidingEvents="false" text="Si selecciona algún registro y luego toca este botón eliminará por completo el producto y sus respectivos registros">
                                <font>
                                    <Font size="14.0" />
                                </font>
                            </Tooltip>
                        </tooltip>
                    </Button>
                </AnchorPane>
            </Tab>
        </TabPane>
    </AnchorPane>
</AnchorPane>
